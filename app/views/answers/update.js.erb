var $form = $('#edit_answer_<%= @answer.id %>'),
    $alert = $form.find('.alert-danger');

$alert.remove();

<% if @answer.errors.any? %>
    <% if remotipart_submitted? %>
        $form.prepend('<%= j "#{render 'shared/errors_messages', resource: @answer}" %>');
    <% else %>
        $form.prepend('<%= j render 'shared/errors_messages', resource: @answer %>');
    <% end %>
<% else %>
    <% if remotipart_submitted? %>
        $form.closest('.answer').replaceWith('<%= j "#{render @answer}" %>');
    <% else %>
        $form.closest('.answer').replaceWith('<%= j render @answer %>');
    <% end %>
<% end %>